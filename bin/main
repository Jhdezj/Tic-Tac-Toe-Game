#!/usr/bin/env ruby

require '../lib/player.rb'

winner = false
draw = false

spots = %w[1 2 3 4 5 6 7 8 9]
puts 'Enter name for the first player'
player1 = gets.chomp
puts 'Enter name for the second player'
player2 = gets.chomp

board = "\n[1] [2] [3]\n[4] [5] [6]\n[7] [8] [9]\n"

puts board

validator = false

current_player = player1
mark = 'x'

while winner == false || draw == false

  unless validator
    puts "(#{current_player}) choose one available spot number in the board :"
    p1 = gets.chomp

    if spots.include?(player_input)
      spots.delete(player_input)
      validator = true
      board = board.gsub(p1, mark)
      puts board
      puts 'Your move is a winning move'
      puts 'Your move is a draw move'
    else
      puts 'Enter a valid spot number: '
      next
    end
  end

  if current_player == player1
    current_player = player2
    mark = 'o'
  elsif current_player == player2
    current_player = player1
    mark = 'x'
  end

  validator = false

  draw = true if spots == []
  
  winner_cases = [[1, 2, 3], [4, 5, 6], [7, 8, 9], [1, 4, 7], [1, 5, 9], [2, 5, 8], [3, 6, 9], [3, 5, 7]]


end
